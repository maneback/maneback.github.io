---
title: Linux 定时任务
date: 2021-05-22 15:29:33
tags:
   - Linux
categories: 技术
---

介绍 Linux 定时任务命令 `crontab ` 的使用

<!--more-->

# linux crontab

linux crontab 是用来定期执行程序的命令。系统会默认启动此任务调度命令。

crond命令会每分钟定期检查是否有需要执行的工作，如果有的话，便执行该工作。

##### 1.语法

```shell
crontab [-u user] file
```

或者

```shell
crontab [-u user] {-e | -l | -r}
```

- 说明：
  - `-e` 执行文字编辑器设定日程表
  - `-r`删除目前的日程表
  - `-l`列出目前的日程表

##### 2. 时间格式

```
f1 f2 f3 f4 f5 program
```

- 说明：
  - f1表示分钟，f2表示小时，f3表示一个月份中的第几天，f4表示月份，f5表示一个星期中的星期几。
  - 某一项为*表示每分钟或每小时等都要执行程序
  - 某一项为`a-b`时表示在a-b这段时间执行。
  - 某一项为`*/n`时表示每隔n个单位执行。
  - 某一项为`a,b,c`时表示取值为a，b，c时执行。

##### 3. 实例

说一千道一万都不如来几个例子来得实在。

- 每月每天每小时的第0分钟`0 * * * * ls`

- 在12月份，每天早上6点到12点，每隔3小时，每小时第10分钟执行`10 6-12/3 * 12 * ls`
- 每周一到周五下午5:00执行`0 17 * * 1-5 ls`
- 每月每天每偶数小时的20分执行`20 0-23/2 * * * ls`

这样，就可以把需要定期执行的操作写成一个脚本，然后交给crontab来执行了，这样真的方便。真的是，懒惰是第一生产力。我才发明这个的人肯定是一个很懒的人。让电脑帮助人来定期执行一些任务，不会忘记，不会出错，严格执行。这不正是机器比人优越的地方吗。